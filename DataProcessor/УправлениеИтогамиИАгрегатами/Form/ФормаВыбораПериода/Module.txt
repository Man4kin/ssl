&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ПериодДляРегНакоп = КонецПериода(ДобавитьМесяц(ТекущаяДата(),-1));
	ПериодДляРегБухг = КонецПериода(ТекущаяДата());
	
	Элементы.ПериодДляРегБухг.Доступность = Параметры.РегБухгалтерии;
	Элементы.ПериодДляРегНакоп.Доступность = Параметры.РегНакопления;
	
КонецПроцедуры

&НаКлиентеНаСервереБезКонтекста
Функция КонецПериода(Дата)
	
	Возврат КонецДня(КонецМесяца(Дата));
	
КонецФункции

&НаКлиенте
Процедура ПериодДляРегНакопПриИзменении(Элемент)
	
	ПериодДляРегНакоп = КонецПериода(ПериодДляРегНакоп);
	
КонецПроцедуры

&НаКлиенте
Процедура ПериодДляРегБухгПриИзменении(Элемент)
	
	ПериодДляРегБухг = КонецПериода(ПериодДляРегБухг);
	
КонецПроцедуры


&НаКлиенте
Процедура ОК(Команда)
	
	Результат = Новый Структура("ПериодДляРегНакоп, ПериодДляРегБухг");
	
	Результат.ПериодДляРегНакоп = ПериодДляРегНакоп;
	Результат.ПериодДляРегБухг = ПериодДляРегБухг;
	
	Закрыть(Результат);
	
КонецПроцедуры

