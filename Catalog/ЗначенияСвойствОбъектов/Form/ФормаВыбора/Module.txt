
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Владелец = Неопределено;
	
	Если Параметры.Отбор.Свойство("_Владелец", Владелец) И ЗначениеЗаполнено(Владелец) Тогда
		Параметры.Отбор.Удалить("_Владелец");
		Параметры.Отбор.Вставить("Владелец", Владелец);
	КонецЕсли;
	
	Если Параметры.Отбор.Свойство("Владелец", Владелец) И ЗначениеЗаполнено(Владелец) Тогда
		Элементы.Наименование.Заголовок = Владелец.Наименование;
	КонецЕсли;
	
	ЗаголовокСтрока = СтрПолучитьСтроку(Владелец.СклоненияПредмета, 2);
	
	Если ПустаяСтрока(ЗаголовокСтрока) Тогда
		Заголовок = НСтр("ru = 'Выберите значение'");
	Иначе
		Заголовок = ЗаголовокСтрока;
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура СписокВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	
	ПроверитьВозможностьВыбора(Элемент, СтандартнаяОбработка);
	
КонецПроцедуры

&НаКлиенте
Процедура СписокВыборЗначения(Элемент, Значение, СтандартнаяОбработка)
	
	ПроверитьВозможностьВыбора(Элемент, СтандартнаяОбработка);
	
КонецПроцедуры

&НаКлиенте
Процедура ПроверитьВозможностьВыбора(Элемент, СтандартнаяОбработка)
	
	Если Элемент.ТекущиеДанные <> Неопределено  И Элемент.ТекущиеДанные.ЭтоГруппа Тогда
		СтандартнаяОбработка = Ложь;
		Предупреждение(НСтр("ru = 'Выбор групп значений не поддерживается'"));
	КонецЕсли;
	
КонецПроцедуры

