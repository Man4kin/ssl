// Обработчик ожидания проверяет, что информационная база была обновлена динамически, и 
// сообщает об этом пользователю.
//
Процедура ОбработчикОжиданияПроверкиДинамическогоИзмененияИБ() Экспорт
	
	Если КонтрольДинамическогоОбновленияКонфигурации.КонфигурацияБДБылаИзмененаДинамически() Тогда
		
		ОтключитьОбработчикОжидания("ОбработчикОжиданияПроверкиДинамическогоИзмененияИБ");
		
		ТекстСообщения = НСтр("ru = 'В конфигурацию информационной базы внесены изменения.
									|Для дальнейшей работы рекомендуется перезапустить программу.
									|Перезапустить?'");
		
		Если Вопрос(ТекстСообщения, РежимДиалогаВопрос.ДаНет) = КодВозвратаДиалога.Да Тогда
			ЗавершитьРаботуСистемы(Истина, Истина);
		КонецЕсли;
		
		ПодключитьОбработчикОжидания("ОбработчикОжиданияПроверкиДинамическогоИзмененияИБ", 20 * 60);
		
	КонецЕсли;
	
КонецПроцедуры
